"use strict";(self.webpackChunkMultibrowser=self.webpackChunkMultibrowser||[]).push([[244],{62679:(e,t,a)=>{a.d(t,{Z:()=>l}),a(67294);const l={formatDate:e=>{const t=new Date(e),a=String(t.getDate()).padStart(2,"0");return String(t.getMonth()+1).padStart(2,"0")+"-"+a+"-"+t.getFullYear()},formatDateTime:e=>{const t=new Date(e),a=t.getHours(),l=t.getMinutes(),n=t.getSeconds(),c=String(t.getDate()).padStart(2,"0");return a+":"+l+":"+n+" "+String(t.getMonth()+1).padStart(2,"0")+"-"+c+"-"+t.getFullYear()}}},19604:(e,t,a)=>{a.d(t,{R:()=>s,X:()=>r});var l=a(67294),n=(a(27018),a(9703)),c=a(32544);const s=(0,l.createContext)();function r({children:e}){const[t,a]=(0,l.useState)([]),[r,m]=(0,l.useState)(""),[o,i]=(0,l.useState)(!1),[u,d]=(0,l.useState)({}),[E,p]=(0,l.useState)([]),b={isCheck:t,isCheckAll:o,isLive:u,isData:E,isCheckRadio:r,handleSelectAll:e=>t=>{let l=[];t.target.checked?(l=e.map((e=>e.uuid)),i(!0),p(e)):(i(!1),p([])),a(l)},handleClick:e=>{const{id:l,checked:n,dataset:c}=e.target;let s=JSON.parse(c.data);n?(a([...t,l]),p([...E,s])):(a(t.filter((e=>e!==l))),p(E.filter((e=>e.uuid!==s.uuid))))},resetChecked:()=>{d([]),a([]),i(!1)},checkProxyTable:async(e,t)=>{e.length>0&&Promise.all(e.map((async e=>{d((t=>({...t,[e.uuid]:3})));let t=await(0,c.r$)(e.uuid,(0,n.w)(),e);return"live"===t.status?(d((t=>({...t,[e.uuid]:1}))),t):(d((t=>({...t,[e.uuid]:2}))),t)}))).then((e=>{(0,c.Se)(e.filter((e=>e))).then((e=>{t()}))}))},handleClickRadio:e=>{const{id:t}=e.target;m(t)}};return l.createElement(s.Provider,{value:b},e)}},73244:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(11358),n=a.n(l),c=a(67294),s=a(9669),r=a.n(s),m=a(19604),o=a(79672),i=a(27018),u=a(26793),d=a(87536);function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},E.apply(this,arguments)}const p=({limit:e,handleShow:t,filterTable:a,itemTable:l})=>{const[n,s]=(0,u.$)(),[m,i]=(0,c.useState)(null),[p,b]=(0,c.useState)(""),{register:N,handleSubmit:h,reset:g}=(0,d.cI)(),k=async(e=null)=>{let t=null;null!==e&&(t={country:e}),await r().get(o._n+o.Zp,{params:t}).then((e=>{i(e.data.content)}))};return(0,c.useEffect)((()=>{k()}),[l]),(0,c.useEffect)((()=>{k(p)}),[p]),c.createElement("div",{className:"toggle-wrap"},c.createElement("a",{href:"#",className:"btn btn-icon btn-trigger toggle","data-target":"cardTools",onClick:e=>e.preventDefault()},c.createElement("em",{className:"icon ni ni-menu-right"})),c.createElement("div",{className:"toggle-content","data-content":"cardTools"},c.createElement("ul",{className:"btn-toolbar gx-1"},c.createElement("li",{className:"toggle-close"},c.createElement("a",{href:"#",className:"btn btn-icon btn-trigger toggle","data-target":"cardTools",onClick:e=>e.preventDefault()},c.createElement("em",{className:"icon ni ni-arrow-left"}))),c.createElement("li",null,c.createElement("div",{className:"dropdown"},c.createElement("a",{href:"#",className:"btn btn-trigger btn-icon dropdown-toggle","data-bs-toggle":"dropdown",onClick:e=>e.preventDefault()},c.createElement("em",{className:"icon ni ni-filter-alt"})),c.createElement("div",{className:"filter-wg dropdown-menu dropdown-menu-xl dropdown-menu-end"},c.createElement("div",{className:"dropdown-head"},c.createElement("span",{className:"sub-title dropdown-title"},n("Filter")),c.createElement("div",{className:"dropdown"},c.createElement("a",{href:"#",className:"btn btn-sm btn-icon",onClick:e=>e.preventDefault()},c.createElement("em",{className:"icon ni ni-more-h"})))),c.createElement("div",{className:"dropdown-body dropdown-body-rg"},c.createElement("form",{className:"row gx-6 gy-3",onSubmit:h((e=>{a(e)}))},c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("Type")),c.createElement("select",E({className:"form-select js-select2"},N("type")),c.createElement("option",{value:""},n("All")),c.createElement("option",{value:"HTTP"},n("HTTP")),c.createElement("option",{value:"SOCKS4"},n("SOCKS4")),c.createElement("option",{value:"SOCKS5"},n("SOCKS5")),c.createElement("option",{value:"SSH"},n("SSH (Proxy over SSH)"))))),c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("Country")),c.createElement("select",E({className:"form-select js-select2"},N("country",{onChange:e=>{b(e.target.value)}})),c.createElement("option",{value:""},n("All")),m&&m.country.map((e=>c.createElement("option",{key:e,value:e},e)))))),c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("State")),c.createElement("select",E({className:"form-select js-select2"},N("state")),c.createElement("option",{value:""},n("All")),m&&m.state.map((e=>c.createElement("option",{key:e,value:e},e)))))),c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("City")),c.createElement("select",E({className:"form-select js-select2"},N("city")),c.createElement("option",{value:""},n("All")),m&&m.city.map((e=>c.createElement("option",{key:e,value:e},e)))))),c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("ISP")),c.createElement("select",E({className:"form-select js-select2"},N("isp")),c.createElement("option",{value:""},n("All")),m&&m.isp.map((e=>c.createElement("option",{key:e,value:e},e)))))),c.createElement("div",{className:"col-6"},c.createElement("div",{className:"form-group"},c.createElement("label",{className:"overline-title overline-title-alt"},n("Status")),c.createElement("select",E({className:"form-select js-select2"},N("status")),c.createElement("option",{value:""},n("All")),c.createElement("option",{value:"NEW"},n("New")),c.createElement("option",{value:"LIVE"},n("Live")),c.createElement("option",{value:"DIE"},n("Die"))))),c.createElement("div",{className:"col-12"},c.createElement("div",{className:"form-group"},c.createElement("button",{type:"submit",className:"btn btn-secondary me-2"},n("Filter")),c.createElement("button",{type:"button",className:"btn btn-light",onClick:()=>{g(),a()}},n("Reset"))))))))),c.createElement("li",null,c.createElement("div",{className:"dropdown"},c.createElement("a",{href:"#",className:"btn btn-trigger btn-icon dropdown-toggle","data-bs-toggle":"dropdown",onClick:e=>e.preventDefault()},c.createElement("em",{className:"icon ni ni-setting"})),c.createElement("div",{className:"dropdown-menu dropdown-menu-xs dropdown-menu-end"},c.createElement("ul",{className:"link-check"},c.createElement("li",null,c.createElement("span",null,"Show")),c.createElement("li",{className:10==e?"active":""},c.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(10)}},"10")),c.createElement("li",{className:50==e?"active":""},c.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(50)}},"50")),c.createElement("li",{className:100==e?"active":""},c.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(100)}},"100")),c.createElement("li",{className:200==e?"active":""},c.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(200)}},"200")),c.createElement("li",{className:500==e?"active":""},c.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(500)}},"500")))))))))},b=(0,c.memo)(p);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},N.apply(this,arguments)}const h=({searchTable:e})=>{const[t,a]=(0,u.$)(),{register:l,handleSubmit:n,reset:s}=(0,d.cI)(),r=t=>{""==t.search&&s(),e(t)};return c.createElement("div",{className:"card-body"},c.createElement("form",{className:"search-content",onSubmit:n(r)},c.createElement("a",{href:"#",className:"search-back btn btn-icon toggle-search","data-target":"search",onClick:e=>{e.preventDefault(),r({search:""})}},c.createElement("em",{className:"icon ni ni-arrow-left"})),c.createElement("input",N({type:"text",className:"form-control border-transparent form-focus-none",id:"search_box",placeholder:t("Search by IP, Port, Username, Country")},l("search"))),c.createElement("button",{type:"submit",className:"search-submit btn btn-icon"},c.createElement("em",{className:"icon ni ni-search"}))))},g=(0,c.memo)(h);var k=a(30853),v=a(28216);var f=a(62679);function x({getTotal:e,openModal:t,handleChangCheckedProxy:a},l){const[s,d]=(0,u.$)(),E=(0,c.useContext)(m.R),p=(0,v.v9)((e=>e.browserConfig.proxy.uuid)),[N,h]=(0,c.useState)(p),[x,y]=(0,c.useState)([]),[C,S]=(0,c.useState)(0),[w,P]=(0,c.useState)(1),[D,T]=(0,c.useState)(10),[O,j]=(0,c.useState)({}),[L,A]=(0,c.useState)(""),[I,_]=(0,c.useState)(!1),R=async(t=!1,a=!1)=>{let l=Object.assign(O,L),n=w;!0===t&&(n=1),r().get(o.cE+o.eB+`?page=${n}&limit=${D}`,{params:l}).then((t=>{const l=t.data,n=l.meta.total;e(n),S(Math.ceil(n/D)),y(l.data.content),1==a&&E.resetChecked()}))},K=(0,c.useCallback)(((e={})=>{j(e)}),[]),H=(0,c.useCallback)(((e="")=>{A(e)}),[]);(0,c.useEffect)((()=>{R()}),[w,D]),(0,c.useEffect)((()=>{R(!0)}),[O,L]),(0,c.useImperativeHandle)(l,(()=>({reloadTable(e){_(e),R()},reloadMainTable(e=!1,t=!1){R(e,t)},exportProxy(){(async(e,t)=>{let a=Object.assign(e,t);r().get(o._n+o.ob,{params:a}).then((e=>{const t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","proxy.txt"),document.body.appendChild(a),a.click()}))})(O,L)}}))),(0,c.useEffect)((()=>{h(p)}),[p]);const M=e=>{a(e),h(e.target.id)};return c.createElement("div",{className:"card card-bordered card-stretch"},c.createElement("div",{className:"card-inner-group"},c.createElement("div",{className:"card-inner position-relative card-tools-toggle"},c.createElement("div",{className:"card-title-group"},c.createElement("div",{className:"card-tools me-n1"}),c.createElement("div",{className:"card-tools me-n1"},c.createElement("ul",{className:"btn-toolbar gx-1"},c.createElement("li",null,c.createElement("a",{href:"#",className:"btn btn-icon search-toggle toggle-search",onClick:e=>e.preventDefault(),"data-target":"search"},c.createElement("em",{className:"icon ni ni-search"}))),c.createElement("li",{className:"btn-toolbar-sep"}),c.createElement("li",null,c.createElement(b,{limit:D,handleShow:e=>{T(e),P(1)},filterTable:K,itemTable:x}))))),c.createElement("div",{className:"card-search search-wrap","data-search":"search"},c.createElement(g,{searchTable:H}))),c.createElement("div",{className:"card-inner p-0"},c.createElement("table",{className:"nk-tb-list nk-tb-ulist"},c.createElement("thead",null,I?c.createElement("tr",{className:"nk-tb-item nk-tb-head"},c.createElement("th",{className:"nk-tb-col nk-tb-col-check"}),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Type"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Proxy"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("City"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("State"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("ISP"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Country"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Profile"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Last update"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Status")))):c.createElement("tr",{className:"nk-tb-item nk-tb-head"},c.createElement("th",{className:"nk-tb-col nk-tb-col-check"},c.createElement("div",{className:"custom-control custom-control-sm custom-checkbox notext"},c.createElement("input",{type:"checkbox",className:"custom-control-input",id:"pid-all",name:"selectAll",onChange:E.handleSelectAll(x),checked:E.isCheckAll}),c.createElement("label",{className:"custom-control-label",htmlFor:"pid-all"}))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Type"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Proxy"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("City"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("State"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("ISP"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Country"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Profile"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Last update"))),c.createElement("th",{className:"nk-tb-col text-center"},c.createElement("span",{className:"sub-text"},s("Status"))),c.createElement("th",{className:"nk-tb-col text-center pe-0"},c.createElement("span",{className:"sub-text"},s("Action"))))),c.createElement("tbody",null,x.length>0?x.map((e=>{let a=e.type;switch(e.type){case"SOCK4":a="SOCKS4";break;case"SOCK5":a="SOCKS5"}let l="",n=!1;switch(E.isLive[e.uuid]){case 1:l=c.createElement("i",{className:"text-success las la-check"}),n=!1;break;case 2:l=c.createElement("i",{className:"text-danger las la-times"}),n=!1;break;case 3:l=c.createElement("img",{style:{height:"30px"},src:k,alt:""}),n=!0}let m=c.createElement("span",{className:"badge badge-sm bg-outline-gray badge-status"},"New");switch(e.status){case"LIVE":m=c.createElement("span",{className:"badge badge-sm bg-outline-success badge-status"},"Live");break;case"DIE":m=c.createElement("span",{className:"badge badge-sm bg-outline-danger badge-status"},"Die")}return c.createElement("tr",{key:e.uuid,className:"nk-tb-item"},c.createElement("td",{className:"nk-tb-col nk-tb-col-check"},I?c.createElement("div",{className:"custom-control custom-control-sm custom-checkbox notext"},c.createElement("input",{type:"radio",className:"custom-control-input",name:"select_proxy",id:e.uuid,"data-data":JSON.stringify(e),onChange:M,checked:N==e.uuid}),c.createElement("label",{className:"custom-control-label",htmlFor:e.uuid})):c.createElement("div",{className:"custom-control custom-control-sm custom-checkbox notext"},c.createElement("input",{type:"checkbox",className:"custom-control-input",name:"select_Profile",id:e.uuid,"data-data":JSON.stringify(e),onChange:E.handleClick,checked:E.isCheck.includes(e.uuid)}),c.createElement("label",{className:"custom-control-label",htmlFor:e.uuid}))),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,a)),c.createElement("td",{className:"nk-tb-col text-center td-min-lg "},c.createElement("span",null,e.ip,e.port?":"+e.port:"",(e.user||e.pass)&&c.createElement("br",null),e.user," ",e.user&&e.pass&&"|"," ",e.pass,l)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.city)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.state)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.isp)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.country)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.browsers_count)),c.createElement("td",{className:"nk-tb-col text-center"},c.createElement("span",null,e.updated_at!==e.created_at?f.Z.formatDateTime(e.updated_at):"")),c.createElement("td",{className:"nk-tb-col text-center"},m),!I&&c.createElement("td",{className:"nk-tb-col"},c.createElement("ul",{className:"nk-tb-actions gx-1"},c.createElement("li",null,c.createElement("a",{href:"#",className:n?"btn btn-sm btn-primary disabled":"btn btn-sm btn-primary",onClick:t=>{t.preventDefault(),E.checkProxyTable([e],R)}},"Check")),c.createElement("li",null,c.createElement("div",{className:"dropdown"},c.createElement("a",{href:"#",onClick:e=>e.preventDefault(),className:"dropdown-toggle btn btn-sm btn-icon btn-trigger","data-bs-toggle":"dropdown"},c.createElement("em",{className:"icon ni ni-more-v"})),c.createElement("div",{className:"dropdown-menu dropdown-menu-end"},c.createElement("ul",{className:"link-list-opt no-bdr"},c.createElement("li",null,c.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),t(!0,"detailProxy",e)}},c.createElement("span",null,s("Detail")))),c.createElement("li",null,c.createElement("a",{href:"#",onClick:a=>{a.preventDefault(),t(!0,"addProxy",e)}},c.createElement("span",null,s("Edit")))),c.createElement("li",null,c.createElement("a",{href:"#",onClick:t=>{t.preventDefault(),(async e=>{await r()({url:o.cE+o.Dj+`/${e}`,method:"delete"}).then((e=>{R(),i.ZP.defaultToast(e)})).catch((e=>{i.ZP.defaultToast(e)}))})(e.uuid)}},c.createElement("span",null,s("Delete")))))))))))})):c.createElement("tr",null,c.createElement("td",{className:"text-center p-3 justify-content-center",colSpan:"5"},c.createElement("span",null,s("Data is empty."))))))),c.createElement("div",{className:"card-inner"},c.createElement("div",{className:"nk-block-between-md g-3 paginate-box"},c.createElement("div",{className:"g"},c.createElement(n(),{previousLabel:s("Prev"),nextLabel:s("Next"),breakLabel:"...",pageCount:C,marginPagesDisplayed:2,pageRangeDisplayed:2,onPageChange:e=>{P(e.selected+1)},containerClassName:"pagination justify-content-center justify-content-md-start",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active",forcePage:w-1}))))))}const y=(0,c.forwardRef)(x)},9703:(e,t,a)=>{a.d(t,{w:()=>l});const l=()=>localStorage.getItem("SITE_CHECK_PROXY")??"multibrowser.io"},32544:(e,t,a)=>{a.d(t,{ZP:()=>s,Se:()=>r,r$:()=>m});var l=a(79672),n=a(9669),c=a.n(n);const s=(e,t,a)=>{window.electronAPI.checkProxy({urlcheck:e,type:t.type,host:t.ip,port:t.port,user:""==t.user?void 0:t.user,pass:""==t.pass?void 0:t.pass}).then((e=>{a({status:"live",info:e})})).catch((e=>{a({status:"die",info:{}})}))},r=async e=>{await c().put(l._n+l.kP,{data:e})},m=(e,t,a)=>window.electronAPI.checkProxy({urlcheck:t,type:a.type,host:a.ip,port:a.port,user:""==a.user?void 0:a.user,pass:""==a.pass?void 0:a.pass}).then((t=>({id:e,status:"live",details:t}))).catch((t=>({id:e,status:"die",details:null})))}}]);