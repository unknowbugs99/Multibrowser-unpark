"use strict";(self.webpackChunkMultibrowser=self.webpackChunkMultibrowser||[]).push([[736],{32866:(e,t,a)=>{a.d(t,{B:()=>s});var n=a(67294),l=a(87536),s=function(e){var t=e.as,a=e.errors,s=e.name,r=e.message,c=e.render,i=function(e,t){if(null==e)return{};var a,n,l={},s=Object.keys(e);for(n=0;n<s.length;n++)t.indexOf(a=s[n])>=0||(l[a]=e[a]);return l}(e,["as","errors","name","message","render"]),o=(0,l.Gc)(),m=(0,l.U2)(a||o.formState.errors,s);if(!m)return null;var d=m.message,u=m.types,p=Object.assign({},i,{children:d||r});return n.isValidElement(t)?n.cloneElement(t,p):c?c({message:d||r,messages:u}):n.createElement(t||n.Fragment,p)}},96736:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var n=a(67294),l=a(26793),s=a(92200),r=a(28216),c=a(39967),i=(a(32443),a(9669)),o=a.n(i),m=a(79672);function d({isShowing:e,modalName:t,data:a,hide:s}){const i=(0,r.I0)(),[d,u]=(0,l.$)(),[p,E]=(0,n.useState)(!1),[h,f]=(0,n.useState)("All"),[v,b]=(0,n.useState)([]),[N,g]=(0,n.useState)(""),w=(0,r.v9)((e=>e.browserConfig.extension));(0,n.useEffect)((()=>{e&&o().get(m._n+m.O).then((e=>{b(e.data.content)}))}),[e]);const k=(e,t)=>{e.preventDefault(),f(t),E((e=>!e))};return n.createElement("div",{className:e&&t.includes("extensionModal")?"modal fade show d-block":"modal fade",tabIndex:"-1",id:"proxyModal"},n.createElement("div",{className:"modal-content modal-lg h-70 top-50 start-50 translate-middle"},n.createElement("button",{className:"close btn-close-modal",onClick:s},n.createElement("em",{className:"icon ni ni-cross"})),n.createElement("div",{className:"modal-header"},n.createElement("h5",{className:"modal-title"},d("Extensions"))),n.createElement("div",{className:"modal-body d-flex flex-column justify-content-space-between overflow-hidden gap-05"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-lg-6"},n.createElement("div",{className:"form-control-wrap"},n.createElement("div",{className:"input-group"},n.createElement("input",{type:"text",className:"form-control input-none-focus",id:"search_box",placeholder:d("Search extensions..."),onChange:e=>{g(e.target.value)}}),n.createElement("div",{className:"input-group-append"},n.createElement("button",{className:"btn btn-outline-primary btn-dim dropdown-toggle input-none-focus",onClick:()=>E((e=>!e))},n.createElement("span",null,h),n.createElement("em",{className:"icon mx-n1 ni ni-chevron-down"})),n.createElement("div",{className:"dropdown-menu dropdown-menu-end "+(p?"show dropdownMenu-modal-add-extension":"")},n.createElement("ul",{className:"link-list-opt no-bdr"},n.createElement("li",null,n.createElement("a",{onClick:e=>{k(e,"All")}},"All")),n.createElement("li",null,n.createElement("a",{onClick:e=>{k(e,"Public")}},"Public")),n.createElement("li",null,n.createElement("a",{onClick:e=>{k(e,"Own")}},"Own"))))))),v&&v.length?n.createElement("ul",{className:"nk-activity is-scrollable mt-3 overflow-auto max-height-50vh"},v.filter((e=>{switch(h){case"Public":return e.name.toLowerCase().includes(N.toLowerCase())&&!e.isOwn;case"Own":return e.name.toLowerCase().includes(N.toLowerCase())&&e.isOwn;default:return e.name.toLowerCase().includes(N.toLowerCase())}e.name.toLowerCase().includes(N.toLowerCase())})).map((e=>n.createElement("li",{key:`extension_${e.id}`,className:"nk-activity-item gap-05 py-1"},n.createElement("div",{className:"nk-activity-media user-avatar background-transparent"},n.createElement("img",{src:e.icon,alt:e.name,className:"height-100 broder-radius-none"})),n.createElement("div",{className:"nk-activity-data flex-grow-1"},n.createElement("div",{className:"label"},e.name,e.isOwn?n.createElement("span",{className:"ms-2 badge badge-dim bg-primary badge-sm custome-new-badge"},"Own"):"")),w.length&&w.find((t=>t.id==e.id))?n.createElement("a",{href:"#",className:"btn btn-dim btn-light btn-sm disabled",onClick:e=>{e.preventDefault()}},"Installed"):n.createElement("a",{href:"#",className:"btn btn-dim btn-outline-success btn-sm",onClick:t=>{t.preventDefault(),(e=>{let t=w.length?[...w,e]:[e];i((0,c.ZD)(t))})(e)}},"Install"))))):""),n.createElement("div",{className:"col-lg-6"},n.createElement("div",{className:"card "},n.createElement("form",{className:"search-contents"},n.createElement("input",{type:"text",className:"form-control border-none p-0 background-transparent",id:"search_box",disabled:!0,placeholder:d("Installed extensions")}))),w&&w.length?n.createElement("ul",{className:"nk-activity is-scrollable mt-3 overflow-auto max-height-50vh"},w.map((e=>n.createElement("li",{key:`extension_${e.id}`,className:"nk-activity-item gap-05 py-1"},n.createElement("div",{className:"nk-activity-media user-avatar"},n.createElement("img",{src:e.icon,alt:e.name,className:"height-100"})),n.createElement("div",{className:"nk-activity-data flex-grow-1"},n.createElement("div",{className:"label"},e.name)),n.createElement("a",{href:"#",className:"btn btn-dim btn-outline-danger btn-sm",onClick:t=>{t.preventDefault(),(e=>{i((0,c.ZD)([...w.filter((t=>t.id!=e.id))]))})(e)}},"Remove"))))):"")))))}const u=(0,n.memo)(d);var p=a(87536),E=a(19604),h=a(32866),f=a(45954),v=a(27018);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b.apply(this,arguments)}function N({isShowing:e,modalName:t,data:a,hide:s}){const[r,c]=(0,l.$)(),[i,d]=(0,n.useState)(r("Choose Upload")),{register:u,handleSubmit:N,reset:g,setValue:w,formState:{errors:k}}=(0,p.cI)();return(0,n.useLayoutEffect)((()=>{g(),d(r("Choose Upload"))}),[e]),n.createElement(E.X,null,n.createElement("div",{className:e&&t.includes("extensionUploadModal")?"modal fade show d-block":"modal fade",tabIndex:"-1"},n.createElement("div",{className:"modal-dialog modal-sm",role:"document"},n.createElement("div",{className:"modal-content"},n.createElement("button",{className:"close btn-close-modal",onClick:s},n.createElement("em",{className:"icon ni ni-cross"})),n.createElement("div",{className:"modal-header d-block"},n.createElement("h5",{className:"modal-title"},r("Update Extension"))),n.createElement("form",{onSubmit:N((e=>{let t=new FormData;var a;t.append("name",e.extensionName),t.append("file",e.extensionFile[0]),(a=t,o().post(m._n+m.O,a)).then((e=>{v.ZP.defaultToast(e),s()})).catch((e=>{v.ZP.defaultToast(e)}))}))},n.createElement("div",{className:"modal-body overflow-auto"},n.createElement("div",{className:"form-group"},n.createElement("label",{className:"form-label",htmlFor:"fv-full-name"},"Name ",n.createElement("span",{className:"text-danger"},"* "),":"),n.createElement("div",{className:"form-control-wrap"},n.createElement("input",b({type:"text",className:"form-control",id:"fv-full-name",name:"fv-full-name"},u("extensionName",{required:f.ro}))),n.createElement(h.B,{errors:k,name:"extensionName",as:"p",className:"validateFail"})),n.createElement("div",{className:"form-group mt-2"},n.createElement("label",{className:"form-label"},"File Upload ",n.createElement("span",{className:"text-danger"},"* "),":"),n.createElement("div",{className:"form-control-wrap"},n.createElement("div",{className:"form-file"},n.createElement("input",b({type:"file",className:"form-file-input",id:"customFile"},u("extensionFile",{required:f.ro,onChange:e=>{d(e.target.files[0].name)}}))),n.createElement(h.B,{errors:k,name:"extensionFile",as:"p",className:"validateFail"}),n.createElement("label",{className:"form-file-label",htmlFor:"customFile"},i)))))),n.createElement("div",{className:"modal-footer bg-light"},n.createElement("button",{className:"btn btn-dim btn-outline-primary"},r("Submit"))))))))}const g=(0,n.memo)(N),w=function(e){const[t,a]=(0,l.$)(),i=(0,r.I0)(),{isShowing:o,modalName:m,modalData:d,toggle:p}=(0,s.Z)(),E=(0,r.v9)((e=>e.browserConfig.extension));return n.createElement("div",{className:"card-inner"},n.createElement("div",{className:"d-flex gap-1 height-inherit"},n.createElement("button",{className:"btn btn-outline-success",onClick:()=>p(!0,"extensionModal")},n.createElement("i",{className:" me-1 las la-puzzle-piece"}),n.createElement("span",null,"Add Extensions")),n.createElement("button",{className:"btn btn-outline-primary input-none-focus",onClick:()=>p(!0,"extensionUploadModal")},n.createElement("i",{className:"me-1 fas fa-upload"}),n.createElement("span",null,"Upload Extensions"))),E&&E.length?n.createElement("ul",{className:"nk-activity is-scrollable pt-3"},E.map((e=>n.createElement("li",{key:`extension_${e.id}`,className:"nk-activity-item gap-05 py-1"},n.createElement("div",{className:"nk-activity-media user-avatar"},n.createElement("img",{src:e.icon,alt:e.name,className:"height-100"})),n.createElement("div",{className:"nk-activity-data min-width-40per"},n.createElement("div",{className:"label"},e.name)),n.createElement("a",{href:"#",className:"btn btn-dim btn-outline-danger btn-sm",onClick:t=>{t.preventDefault(),(e=>{let t=E.filter((t=>t.id!=e));i((0,c.ZD)(t))})(e.id)}},"Remove"))))):"",n.createElement(u,{isShowing:o,modalName:m,hide:()=>{p(!1,"extensionModal")}}),n.createElement(g,{isShowing:o,modalName:m,hide:()=>{p(!1,"extensionUploadModal")}}))}},19604:(e,t,a)=>{a.d(t,{R:()=>r,X:()=>c});var n=a(67294),l=(a(27018),a(9703)),s=a(32544);const r=(0,n.createContext)();function c({children:e}){const[t,a]=(0,n.useState)([]),[c,i]=(0,n.useState)(""),[o,m]=(0,n.useState)(!1),[d,u]=(0,n.useState)({}),[p,E]=(0,n.useState)([]),h={isCheck:t,isCheckAll:o,isLive:d,isData:p,isCheckRadio:c,handleSelectAll:e=>t=>{let n=[];t.target.checked?(n=e.map((e=>e.uuid)),m(!0),E(e)):(m(!1),E([])),a(n)},handleClick:e=>{const{id:n,checked:l,dataset:s}=e.target;let r=JSON.parse(s.data);l?(a([...t,n]),E([...p,r])):(a(t.filter((e=>e!==n))),E(p.filter((e=>e.uuid!==r.uuid))))},resetChecked:()=>{u([]),a([]),m(!1)},checkProxyTable:async(e,t)=>{e.length>0&&Promise.all(e.map((async e=>{u((t=>({...t,[e.uuid]:3})));let t=await(0,s.r$)(e.uuid,(0,l.w)(),e);return"live"===t.status?(u((t=>({...t,[e.uuid]:1}))),t):(u((t=>({...t,[e.uuid]:2}))),t)}))).then((e=>{(0,s.Se)(e.filter((e=>e))).then((e=>{t()}))}))},handleClickRadio:e=>{const{id:t}=e.target;i(t)}};return n.createElement(r.Provider,{value:h},e)}},9703:(e,t,a)=>{a.d(t,{w:()=>n});const n=()=>localStorage.getItem("SITE_CHECK_PROXY")??"multibrowser.io"},32544:(e,t,a)=>{a.d(t,{ZP:()=>r,Se:()=>c,r$:()=>i});var n=a(79672),l=a(9669),s=a.n(l);const r=(e,t,a)=>{window.electronAPI.checkProxy({urlcheck:e,type:t.type,host:t.ip,port:t.port,user:""==t.user?void 0:t.user,pass:""==t.pass?void 0:t.pass}).then((e=>{a({status:"live",info:e})})).catch((e=>{a({status:"die",info:{}})}))},c=async e=>{await s().put(n._n+n.kP,{data:e})},i=(e,t,a)=>window.electronAPI.checkProxy({urlcheck:t,type:a.type,host:a.ip,port:a.port,user:""==a.user?void 0:a.user,pass:""==a.pass?void 0:a.pass}).then((t=>({id:e,status:"live",details:t}))).catch((t=>({id:e,status:"die",details:null})))}}]);