"use strict";(self.webpackChunkMultibrowser=self.webpackChunkMultibrowser||[]).push([[161],{12161:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var l=a(67294),n=a(9669),c=a.n(n),s=a(79672),r=a(11358),m=a.n(r);const o=(0,l.createContext)();function i({children:e}){const[t,a]=(0,l.useState)([]),[n,c]=(0,l.useState)(!1);console.log(t);const s={isCheck:t,isCheckAll:n,handleSelectAll:e=>t=>{let l=[];t.target.checked?(l=e.map((e=>e.key)),c(!0)):c(!1),a(l)},handleClick:e=>{const{id:l,checked:n}=e.target;console.log(l),a(n?[...t,parseInt(l)]:t.filter((e=>e!==parseInt(l))))},resetChecked:()=>{a([]),c(!1)}};return l.createElement(o.Provider,{value:s},e)}var d=a(27018),u=a(26793),E=a(73727),p=a(65868),b=a(87536);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},N.apply(this,arguments)}const k=({limit:e,handleShow:t,filterTable:a})=>{const[n,c]=(0,u.$)(),{register:s,handleSubmit:r,reset:m}=(0,b.cI)();return l.createElement("div",{className:"toggle-wrap"},l.createElement("a",{href:"#",className:"btn btn-icon btn-trigger toggle","data-target":"cardTools",onClick:e=>e.preventDefault()},l.createElement("em",{className:"icon ni ni-menu-right"})),l.createElement("div",{className:"toggle-content","data-content":"cardTools"},l.createElement("ul",{className:"btn-toolbar gx-1"},l.createElement("li",{className:"toggle-close"},l.createElement("a",{href:"#",className:"btn btn-icon btn-trigger toggle","data-target":"cardTools",onClick:e=>e.preventDefault()},l.createElement("em",{className:"icon ni ni-arrow-left"}))),l.createElement("li",null,l.createElement("div",{className:"dropdown"},l.createElement("a",{href:"#",className:"btn btn-trigger btn-icon dropdown-toggle","data-bs-toggle":"dropdown",onClick:e=>e.preventDefault()},l.createElement("em",{className:"icon ni ni-filter-alt"})),l.createElement("div",{className:"filter-wg dropdown-menu dropdown-menu-xl dropdown-menu-end"},l.createElement("div",{className:"dropdown-head"},l.createElement("span",{className:"sub-title dropdown-title"},n("Filter")),l.createElement("div",{className:"dropdown"},l.createElement("a",{href:"#",className:"btn btn-sm btn-icon",onClick:e=>e.preventDefault()},l.createElement("em",{className:"icon ni ni-more-h"})))),l.createElement("div",{className:"dropdown-body dropdown-body-rg"},l.createElement("form",{className:"row gx-6 gy-3",onSubmit:r((e=>{a(e)}))},l.createElement("div",{className:"col-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"overline-title overline-title-alt"},n("Type")),l.createElement("select",N({className:"form-select js-select2"},s("type")),l.createElement("option",{value:""},n("All")),l.createElement("option",{value:"custom"},n("Custom")),l.createElement("option",{value:"file"},n("File"))))),l.createElement("div",{className:"col-6"},l.createElement("div",{className:"form-group"},l.createElement("label",{className:"overline-title overline-title-alt"},n("Status")),l.createElement("select",N({className:"form-select js-select2"},s("status")),l.createElement("option",{value:""},n("All")),l.createElement("option",{value:"active"},n("Active")),l.createElement("option",{value:"inactive"},n("Inactive"))))),l.createElement("div",{className:"col-12"},l.createElement("div",{className:"form-group"},l.createElement("button",{type:"submit",className:"btn btn-secondary me-2"},n("Filter")),l.createElement("button",{type:"button",className:"btn btn-light",onClick:()=>{m(),a()}},n("Reset"))))))))),l.createElement("li",null,l.createElement("div",{className:"dropdown"},l.createElement("a",{href:"#",className:"btn btn-trigger btn-icon dropdown-toggle","data-bs-toggle":"dropdown",onClick:e=>e.preventDefault()},l.createElement("em",{className:"icon ni ni-setting"})),l.createElement("div",{className:"dropdown-menu dropdown-menu-xs dropdown-menu-end"},l.createElement("ul",{className:"link-check"},l.createElement("li",null,l.createElement("span",null,"Show")),l.createElement("li",{className:10==e?"active":""},l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(10)}},"10")),l.createElement("li",{className:50==e?"active":""},l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(50)}},"50")),l.createElement("li",{className:100==e?"active":""},l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(100)}},"100")),l.createElement("li",{className:200==e?"active":""},l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(200)}},"200")),l.createElement("li",{className:500==e?"active":""},l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t(500)}},"500")))))))))},h=(0,l.memo)(k);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},g.apply(this,arguments)}const v=({searchTable:e})=>{const[t,a]=(0,u.$)(),{register:n,handleSubmit:c,reset:s}=(0,b.cI)(),r=t=>{""==t.search&&s(),e(t)};return l.createElement("div",{className:"card-body"},l.createElement("form",{className:"search-content",onSubmit:c(r)},l.createElement("a",{href:"#",className:"search-back btn btn-icon toggle-search","data-target":"search",onClick:e=>{e.preventDefault(),r({search:""})}},l.createElement("em",{className:"icon ni ni-arrow-left"})),l.createElement("input",g({type:"text",className:"form-control border-transparent form-focus-none",id:"search_box",placeholder:t("Search by Name")},n("search"))),l.createElement("button",{type:"submit",className:"search-submit btn btn-icon"},l.createElement("em",{className:"icon ni ni-search"}))))},f=(0,l.memo)(v);function C({getTotal:e,openModal:t,handleDelete:a},n){const[r,i]=(0,u.$)(),[d,b]=(0,l.useState)("owner"),[N,k]=(0,l.useState)([]),[g,v]=(0,l.useState)(0),[C,w]=(0,l.useState)(1),[y,x]=(0,l.useState)({}),[S,D]=(0,l.useState)(""),[T,A]=(0,l.useState)(10),j=(0,l.useCallback)(((e={})=>{x(e)}),[]),P=(0,l.useCallback)(((e="")=>{D(e)}),[]);let L=s._n+s.Yc;const $=async()=>{let t=L+`?page=${C}&limit=${T}`;t+=S?"&search="+S.search:"",t+=y.type?"&type="+y.type:"",t+=y.status?"&status="+y.status:"",console.log(t),c().get(t).then((t=>{const a=t.data,l=a.meta.total;e(l),v(Math.ceil(l/T)),k(a.data.content),F.resetChecked()}))};(0,l.useEffect)((()=>{$()}),[d,C,S,y,T]);const F=(0,l.useContext)(o);return(0,l.useImperativeHandle)(n,(()=>({reloadTable(){$()}}))),l.createElement("div",{className:"card card-bordered card-stretch"},l.createElement("div",{className:"card-inner-group"},l.createElement("div",{className:"card-inner position-relative card-tools-toggle"},l.createElement("div",{className:"card-inner position-relative card-tools-toggle"},l.createElement("div",{className:"card-title-group"},l.createElement("div",{className:"card-tools me-n1"}),l.createElement("div",{className:"card-tools me-n1"},l.createElement("ul",{className:"btn-toolbar gx-1"},l.createElement("li",null,l.createElement("a",{href:"#",className:"btn btn-icon search-toggle toggle-search",onClick:e=>e.preventDefault(),"data-target":"search"},l.createElement("em",{className:"icon ni ni-search"}))),l.createElement("li",{className:"btn-toolbar-sep"}),l.createElement("li",null,l.createElement(h,{limit:T,handleShow:e=>{A(e),w(1)},filterTable:j}))))),l.createElement("div",{className:"card-search search-wrap","data-search":"search"},l.createElement(f,{searchTable:P})))),l.createElement("div",{className:"card-inner p-0"},l.createElement("table",{className:"nk-tb-list nk-tb-ulist"},l.createElement("thead",null,l.createElement("tr",{className:"nk-tb-item nk-tb-head"},l.createElement("th",{className:"nk-tb-col nk-tb-col-check"},l.createElement("div",{className:"custom-control custom-control-sm custom-checkbox notext"},l.createElement("input",{type:"checkbox",className:"custom-control-input",id:"pid-all",name:"selectAll",onChange:F.handleSelectAll(N),checked:F.isCheckAll}),l.createElement("label",{className:"custom-control-label",htmlFor:"pid-all"}))),l.createElement("th",{className:"nk-tb-col"},l.createElement("span",{className:"sub-text ms-5"},"Name")),l.createElement("th",{className:"nk-tb-col text-center"},l.createElement("span",{className:"sub-text"},"Type")),l.createElement("th",{className:"nk-tb-col text-center"},l.createElement("span",{className:"sub-text"},"Status")),l.createElement("th",{className:"nk-tb-col nk-tb-col-tools text-end"},l.createElement("span",{className:"sub-text"},"Action")))),l.createElement("tbody",null,N.length>0?N.map((e=>l.createElement("tr",{key:`${e.key}-script-table`,className:"nk-tb-item"},l.createElement("td",{className:"nk-tb-col nk-tb-col-check"},l.createElement("div",{className:"custom-control custom-control-sm custom-checkbox notext"},l.createElement("input",{type:"checkbox",className:"custom-control-input",name:"select_Profile",id:e.key,onChange:F.handleClick,checked:F.isCheck.includes(e.key)}),l.createElement("label",{className:"custom-control-label",htmlFor:e.key}))),l.createElement("td",{className:"nk-tb-col"},l.createElement("span",{className:"ms-4"},l.createElement("em",{className:"fab fa-js"})," ",e.name)),l.createElement("td",{className:"nk-tb-col text-center"},l.createElement("span",null,e.type)),l.createElement("td",{className:"nk-tb-col text-center"},l.createElement("span",null,e.status)),l.createElement("td",{className:"nk-tb-col nk-tb-col-tools"},l.createElement("ul",{className:"nk-tb-actions gx-1 me-1"},l.createElement("li",null,l.createElement("div",{className:"dropdown"},l.createElement("a",{href:"#",onClick:e=>e.preventDefault(),className:"dropdown-toggle btn btn-sm btn-icon btn-trigger","data-bs-toggle":"dropdown"},l.createElement("em",{className:"icon ni ni-more-h"})),l.createElement("div",{className:"dropdown-menu dropdown-menu-end"},l.createElement("ul",{className:"link-list-opt no-bdr"},l.createElement("li",null,l.createElement(E.rU,{to:{pathname:`${p.mW}`,state:e}},l.createElement("span",null,"Edit"))),l.createElement("li",null,l.createElement("a",{href:"#",onClick:t=>{t.preventDefault(),a([e.key])}},l.createElement("span",null,"Delete")))))))))))):l.createElement("tr",null,l.createElement("td",{className:"text-center p-3 justify-content-center",colSpan:"5"},l.createElement("span",null,r("Data is empty."))))))),l.createElement("div",{className:"card-inner"},l.createElement("div",{className:"nk-block-between-md g-3 paginate-box"},l.createElement("div",{className:"g"},l.createElement(m(),{previousLabel:"Prev",nextLabel:"Next",breakLabel:"...",pageCount:g,marginPagesDisplayed:2,pageRangeDisplayed:2,onPageChange:e=>{w(e.selected+1)},containerClassName:"pagination justify-content-center justify-content-md-start",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active",forcePage:C-1}))))))}const w=(0,l.forwardRef)(C),y=function(e){const t=(0,l.useContext)(o);return t.isCheck.length>0&&l.createElement("div",{className:"card card-bordered card-preview"},l.createElement("div",{className:"card-inner"},l.createElement("a",{href:"#",className:"btn btn-sm btn-outline-danger mx-1",onClick:a=>{a.preventDefault(),e.handleDelete(t.isCheck)}},l.createElement("i",{className:"las la-trash-alt"})," Delete")))},x=e=>{const[t,a]=(0,l.useState)(0),n=(0,l.useRef)(),r=(0,l.useCallback)((()=>{n.current.reloadTable()}),[]),m=e=>{let t=s._n+s.Yc,a={key:e};c()({method:"delete",url:t,data:a}).then((e=>{r(),d.ZP.defaultToast(e)})).catch((e=>{d.ZP.defaultToast(e)}))};return l.createElement(l.Fragment,null,l.createElement(i,null,l.createElement("div",{className:"nk-content "},l.createElement("div",{className:"container wide-xl"},l.createElement("div",{className:"nk-content-inner"},l.createElement("div",{className:"nk-content-body"},l.createElement("div",{className:"nk-content-wrap"},l.createElement("div",{className:"nk-block-head nk-block-head-sm"},l.createElement("div",{className:"nk-block-between"},l.createElement("div",{className:"nk-block-head-content"},l.createElement("h3",{className:"nk-block-title page-title"},"Automation Scripts"),l.createElement("div",{className:"nk-block-des text-soft"},l.createElement("p",null,"You have total ",t>1?t+" scripts":t+" script","."))),l.createElement("div",{className:"nk-block-head-content"},l.createElement("div",{className:"toggle-wrap nk-block-tools-toggle"},l.createElement("div",{className:"toggle-expand-content","data-content":"pageMenu"},l.createElement("ul",{className:"nk-block-tools g-3"},l.createElement("li",{className:"nk-block-tools-opt d-none d-sm-block"},l.createElement(E.rU,{to:p.mW,className:"btn btn-primary"},l.createElement("em",{className:"icon ni ni-plus"}),l.createElement("span",null,"Add Script"))))))))),l.createElement("div",{className:"nk-block"},l.createElement(y,{handleDelete:m})),l.createElement("div",{className:"nk-block table-block"},l.createElement(w,{getTotal:e=>{a(e)},ref:n,openModal:(e,t,a)=>{toggle(e,t,a)},handleDelete:m})))))))))}}}]);